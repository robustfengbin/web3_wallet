[English](README.md) | [ä¸­æ–‡](README_CN.md)

# Web3 Wallet Service

A modular Web3 wallet management service with multi-chain support, featuring a Rust backend and React frontend. **Now with full Zcash Orchard privacy protocol support.**

## Features

- **Wallet Management** - Create, import, and manage multiple wallets with encrypted private key storage
- **Multi-Chain Support** - Extensible architecture for multiple blockchain networks (Ethereum, Zcash)
- **Token Support** - Native tokens and ERC20 tokens (USDT, USDC, DAI, WETH)
- **Zcash Privacy** - Full Orchard protocol with Halo 2 zero-knowledge proofs
- **Four Transfer Modes** - Complete Zcash transfer types (Tâ†’T, Tâ†’Z, Zâ†’Z, Zâ†’T)
- **Transfer Management** - Initiate, execute, and track transactions with real-time status updates
- **Gas Estimation** - EIP-1559 compatible gas fee estimation
- **RPC Management** - Dynamic RPC endpoint configuration with fallback support
- **Role-Based Access** - Admin and Operator roles with permission controls
- **Internationalization** - Multi-language frontend support

---

## Product Vision & Roadmap

We are building the **Enterprise-Grade Privacy Finance Infrastructure for Web3** â€” the world's first platform that enables companies to move money on public blockchains with the same privacy, security, and control as traditional financial systems.

### What We Are Building

> **Privacy-First Financial Operating System for Web3**
>
> *"Stripe + Treasury + Privacy Layer for Crypto"*

A unified platform where enterprises can:
- Accept, store, move, and settle digital assets
- Use Zcash shielded pools for privacy
- Use public chains for liquidity
- Control who can move money and under what conditions
- Generate compliance-ready audit trails

### 2026 Roadmap

| Quarter | Focus | Key Deliverables |
|---------|-------|------------------|
| **Q1** | Enterprise Reliability | End-to-end transaction tracking, auto failover, real-time dashboards |
| **Q2** | Compliance & Governance | Multi-user approval workflows, audit trails, enterprise webhooks |
| **Q3** | High-Volume Privacy | Optimized Orchard sync, large-value transfers, unified balance management |
| **Q4** | Privacy Finance Platform | Developer SDKs, multi-chain treasury, HSM/KMS integrations |

### Long-Term Vision

By 2026, we will power:
- Crypto exchanges protecting user deposits
- OTC desks settling billion-dollar trades privately
- Payment processors offering privacy by default
- Web3 companies running confidential payroll and treasury

> ðŸ“„ **[Read Full Roadmap (English)](docs/product-roadmap-2026.md)** | **[ä¸­æ–‡ç‰ˆ](docs/product-roadmap-2026-cn.md)**

---

## Zcash Privacy Transfer Modes

The system implements **all four Zcash transfer modes**, providing complete flexibility for privacy management:

### Transfer Mode Comparison

| Mode | From | To | Privacy Level | Use Case |
|------|------|-----|---------------|----------|
| **Tâ†’T** | Transparent | Transparent | None | Standard public transactions |
| **Tâ†’Z** | Transparent | Shielded | Partial | Shielding funds for privacy |
| **Zâ†’Z** | Shielded | Shielded | Maximum | Fully private transactions |
| **Zâ†’T** | Shielded | Transparent | Partial | Deshielding for exchanges |

### Mode Details

#### 1. Transparent to Transparent (Tâ†’T)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  t1abc...   â”‚ â”€â”€â”€â”€â”€ ZEC â”€â”€â”€â”€â”€â”€â–¶  â”‚  t1xyz...   â”‚
â”‚ (Sender)    â”‚                    â”‚ (Receiver)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         Public on blockchain
```

- **Privacy**: None - all details visible on blockchain
- **Speed**: Fast (~75 seconds confirmation)
- **Use Case**: Public payments, exchange deposits/withdrawals
- **API**: `POST /api/v1/transfers`

#### 2. Transparent to Shielded (Tâ†’Z Shielding)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  t1abc...   â”‚ â”€â”€â”€â”€â”€ ZEC â”€â”€â”€â”€â”€â”€â–¶  â”‚  u1xyz...   â”‚
â”‚ Transparent â”‚      Shielding     â”‚  Shielded   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Visible                          Hidden
```

- **Privacy**: Partial - sender visible, receiver hidden
- **Proof**: Halo 2 zero-knowledge proof generated
- **Use Case**: Moving funds into privacy pool
- **API**: `POST /api/v1/transfers/orchard` with `fund_source: "Transparent"`

#### 3. Shielded to Shielded (Zâ†’Z)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  u1abc...   â”‚ â”€â”€â”€â”€â”€ ZEC â”€â”€â”€â”€â”€â”€â–¶  â”‚  u1xyz...   â”‚
â”‚  Shielded   â”‚   Full Privacy     â”‚  Shielded   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Hidden          Hidden            Hidden
         Maximum Privacy
```

- **Privacy**: Maximum - sender, receiver, and amount all hidden
- **Proof**: Full Halo 2 proof (spend + output)
- **Memo**: Optional 512-byte encrypted memo support
- **Use Case**: Private payments, confidential business transactions
- **API**: `POST /api/v1/transfers/orchard` with `fund_source: "Shielded"`

#### 4. Shielded to Transparent (Zâ†’T Deshielding)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  u1abc...   â”‚ â”€â”€â”€â”€â”€ ZEC â”€â”€â”€â”€â”€â”€â–¶  â”‚  t1xyz...   â”‚
â”‚  Shielded   â”‚    Deshielding     â”‚ Transparent â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    Hidden                           Visible
```

- **Privacy**: Partial - sender hidden, receiver visible
- **Proof**: Halo 2 spend proof required
- **Use Case**: Exchange deposits, public payments from private funds
- **API**: `POST /api/v1/transfers/orchard` with transparent recipient address

### Technical Implementation

The Orchard privacy system uses:

- **Halo 2**: Recursive zero-knowledge proof system (no trusted setup)
- **Commitment Tree**: Merkle tree tracking all shielded notes
- **Nullifiers**: Prevent double-spending without revealing note identity
- **Incremental Witnesses**: Efficient proof path updates

```rust
// Fund source selection
pub enum FundSource {
    Auto,         // System chooses optimal source
    Shielded,     // Force use shielded funds (Zâ†’Z or Zâ†’T)
    Transparent,  // Force use transparent funds (Tâ†’Z)
}
```

### Fee Structure (ZIP-317)

| Actions | Fee (ZEC) |
|---------|-----------|
| 1-2 | 0.0001 |
| 3-4 | 0.00015 |
| 5+ | 0.00005 per additional |

---

## Enterprise Use Cases

This system is designed for enterprise-grade cryptocurrency management with privacy features:

### 1. Cryptocurrency Payment Gateway

- **Scenario**: E-commerce platforms accepting ZEC payments
- **Features Used**:
  - Multi-wallet management for different merchants
  - Tâ†’Z shielding for customer privacy
  - Real-time balance and transaction tracking
  - Webhook notifications for payment confirmation

### 2. Treasury Management System

- **Scenario**: Corporate treasury holding and managing crypto assets
- **Features Used**:
  - Role-based access (Admin/Operator separation of duties)
  - Audit logs for compliance
  - Multi-signature workflow (initiate â†’ approve â†’ execute)
  - Encrypted private key storage with HSM integration potential

### 3. OTC Trading Desk

- **Scenario**: High-volume OTC cryptocurrency trading
- **Features Used**:
  - Zâ†’Z transfers for confidential large trades
  - Privacy protection for trade counterparties
  - Batch transaction processing
  - RPC failover for reliability

### 4. Privacy-Focused Exchange

- **Scenario**: Exchange offering privacy coin support
- **Features Used**:
  - Tâ†’Z for customer deposit shielding
  - Zâ†’T for withdrawal processing
  - Automated balance reconciliation
  - Compliance-ready audit trails

### 5. Cross-Border Payment Service

- **Scenario**: International remittance with privacy requirements
- **Features Used**:
  - Multi-chain support (ETH for speed, ZEC for privacy)
  - Unified address management
  - Transaction memo for payment references
  - Multi-language interface

### 6. Institutional Custody Solution

- **Scenario**: Custodian managing crypto for institutional clients
- **Features Used**:
  - Segregated wallet per client
  - View-only keys for auditors
  - Cold/hot wallet separation
  - Comprehensive logging and reporting

### 7. DeFi Protocol Backend

- **Scenario**: DeFi protocol requiring privacy features
- **Features Used**:
  - Programmable transaction workflows
  - Gas optimization for Ethereum operations
  - Privacy pool integration via Orchard
  - API-first architecture for integration

### Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Enterprise Deployment                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   Frontend   â”‚     â”‚   Backend    â”‚     â”‚   Database   â”‚    â”‚
â”‚  â”‚   (React)    â”‚â”€â”€â”€â”€â–¶â”‚   (Rust)     â”‚â”€â”€â”€â”€â–¶â”‚   (MySQL)    â”‚    â”‚
â”‚  â”‚   Port 3000  â”‚     â”‚   Port 8080  â”‚     â”‚   Port 3306  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Blockchain Layer                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚  â”‚  Ethereum   â”‚              â”‚   Zcash     â”‚            â”‚  â”‚
â”‚  â”‚  â”‚  RPC Node   â”‚              â”‚  RPC Node   â”‚            â”‚  â”‚
â”‚  â”‚  â”‚ (Geth/Infura)â”‚             â”‚(Zebrad/Zcashd)â”‚           â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Security Considerations for Enterprise

| Aspect | Implementation |
|--------|----------------|
| Key Storage | AES-256-GCM encryption at rest |
| Authentication | JWT with configurable expiration |
| Authorization | Role-based (Admin/Operator) |
| Audit | Comprehensive audit logging |
| Network | HTTPS/TLS required in production |
| Secrets | Environment-based configuration |

---

## Screenshots

### Dashboard
![Dashboard](docs/images/dashboard.png)

### Zcash Wallet Management
Zcash wallet with unified addresses, transparent/shielded balance display, and Privacy Notes viewer.
![Zcash Wallet](docs/images/zcash_account.jpg)

### Ethereum Transfer
ERC20 token transfer with EIP-1559 gas estimation and balance preview.
![Ethereum Transfer](docs/images/transfer.jpg)

### Zcash Privacy Transfer (Zâ†’Z)
Shielded-to-shielded transfer with encrypted memo and Halo 2 proof generation.
![Zcash Privacy Transfer](docs/images/prepare_transfer_z_z.jpg)

### Transfer Success
Transaction submitted successfully with transaction hash.
![Transfer Success](docs/images/transfer_tx.jpg)

### Transfer History
Complete transfer history with shielded transaction tracking.
![Transfer History](docs/images/transfer_his.jpg)

### RPC Node Settings
Multi-provider RPC configuration with Alchemy, Infura, QuickNode support.
![RPC Settings](docs/images/node_rpc.jpg)

## Tech Stack

### Backend
- **Rust** with Actix-web 4
- **MySQL 5.7+** with SQLx
- **Ethers-rs** for Ethereum integration
- **Orchard/Zcash crates** for Zcash privacy protocol
- **Halo 2** zero-knowledge proof system
- **AES-256-GCM** encryption for private keys
- **JWT** authentication

### Frontend
- **React 19** with TypeScript
- **Vite** build tool
- **Tailwind CSS**
- **i18next** for internationalization

## Project Structure

```
github_web3_wallet_service/
â”œâ”€â”€ backend/                    # Rust backend service
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/               # REST API endpoints and middleware
â”‚   â”‚   â”œâ”€â”€ blockchain/        # Chain clients and token definitions
â”‚   â”‚   â”‚   â”œâ”€â”€ ethereum/      # Ethereum client and ERC20 tokens
â”‚   â”‚   â”‚   â””â”€â”€ zcash/         # Zcash client and Orchard protocol
â”‚   â”‚   â”‚       â””â”€â”€ orchard/   # Halo 2 proofs, notes, witnesses
â”‚   â”‚   â”œâ”€â”€ services/          # Business logic layer
â”‚   â”‚   â”œâ”€â”€ db/                # Database models and repositories
â”‚   â”‚   â”œâ”€â”€ crypto/            # Encryption and password hashing
â”‚   â”‚   â””â”€â”€ config/            # Configuration management
â”‚   â””â”€â”€ Cargo.toml
â”‚
â””â”€â”€ frontend/                   # React TypeScript frontend
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ pages/             # Page components
    â”‚   â”œâ”€â”€ components/        # Reusable UI components
    â”‚   â”œâ”€â”€ services/          # API client modules
    â”‚   â””â”€â”€ hooks/             # Custom React hooks
    â””â”€â”€ package.json
```

## Quick Start

### Prerequisites

- Rust (latest stable)
- Node.js 18+
- MySQL 5.7+

### Backend Setup

1. Navigate to the backend directory:
```bash
cd backend
```

2. Copy the environment file and configure:
```bash
cp .env.example .env
```

3. Configure your `.env` file:
```env
# Server
WEB3_SERVER__HOST=127.0.0.1
WEB3_SERVER__PORT=8080

# Database
WEB3_DATABASE__HOST=localhost
WEB3_DATABASE__PORT=3306
WEB3_DATABASE__USER=root
WEB3_DATABASE__PASSWORD=your_password
WEB3_DATABASE__NAME=web3_wallet

# JWT
WEB3_JWT__SECRET=your-secure-jwt-secret-key
WEB3_JWT__EXPIRE_HOURS=24

# Security (must be exactly 32 characters)
WEB3_SECURITY__ENCRYPTION_KEY=uK7m2VxQ9nL3aT1aR8c26yH0uJ4bZ5wE

# Ethereum
WEB3_ETHEREUM__RPC_URL=https://eth.llamarpc.com
WEB3_ETHEREUM__CHAIN_ID=1
```

4. Start the backend:
```bash
# Development mode
./start.sh run

# Production mode
./start.sh run-release

# Using PM2
./start.sh pm2
```

### Frontend Setup

1. Navigate to the frontend directory:
```bash
cd frontend
```

2. Install dependencies:
```bash
npm install
```

3. Start the development server:
```bash
npm run dev
```

4. Build for production:
```bash
npm run build
```

### Default Credentials

- **Username:** admin
- **Password:** admin123

> **Important:** Change the default password immediately in production.

## API Reference

### Authentication
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/v1/auth/login` | User login |
| POST | `/api/v1/auth/logout` | User logout |
| PUT | `/api/v1/auth/password` | Change password |
| GET | `/api/v1/auth/me` | Get current user info |

### Wallets
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v1/wallets` | List all wallets |
| POST | `/api/v1/wallets` | Create new wallet |
| POST | `/api/v1/wallets/import` | Import wallet from private key |
| GET | `/api/v1/wallets/{id}` | Get wallet details |
| DELETE | `/api/v1/wallets/{id}` | Delete wallet |
| PUT | `/api/v1/wallets/{id}/activate` | Set as active wallet |
| POST | `/api/v1/wallets/{id}/export-key` | Export private key |
| GET | `/api/v1/wallets/balance` | Get wallet balance |

### Transfers
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v1/transfers` | List transfers with pagination |
| POST | `/api/v1/transfers` | Initiate new transfer |
| GET | `/api/v1/transfers/{id}` | Get transfer details |
| POST | `/api/v1/transfers/{id}/execute` | Execute pending transfer |
| POST | `/api/v1/transfers/estimate-gas` | Estimate gas fees |

### Zcash Orchard (Privacy)
| Method | Endpoint | Description |
|--------|----------|-------------|
| POST | `/api/v1/wallets/{id}/orchard/enable` | Enable Orchard for wallet |
| GET | `/api/v1/wallets/{id}/orchard/addresses` | Get unified addresses |
| GET | `/api/v1/wallets/{id}/orchard/balance` | Get shielded balance |
| GET | `/api/v1/wallets/{id}/orchard/balance/combined` | Get combined balance |
| GET | `/api/v1/wallets/{id}/orchard/notes` | List unspent notes |
| POST | `/api/v1/transfers/orchard` | Initiate privacy transfer |
| POST | `/api/v1/transfers/orchard/{id}/execute` | Execute privacy transfer |
| GET | `/api/v1/zcash/scan/status` | Get sync status |
| POST | `/api/v1/zcash/scan/sync` | Trigger manual sync |

### Settings
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v1/settings/rpc` | Get current RPC config |
| PUT | `/api/v1/settings/rpc` | Update RPC config |
| POST | `/api/v1/settings/rpc/test` | Test RPC endpoint |
| GET | `/api/v1/settings/rpc/presets` | Get RPC presets |

### Health
| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | `/api/v1/health` | Health check |

## Security

- **Private Key Encryption:** AES-256-GCM encryption for all private keys at rest
- **Password Hashing:** Argon2 algorithm for password security
- **JWT Authentication:** Stateless authentication with configurable expiration
- **Role-Based Access Control:** Admin and Operator roles with different permissions
- **Sensitive Operation Protection:** Password verification required for private key export

### Security Best Practices

1. Change the default admin password immediately
2. Use a strong, random 32-byte encryption key
3. Use a cryptographically secure JWT secret
4. Enable HTTPS in production
5. Configure proper database access controls

## Database

The service automatically creates the required tables on startup:

- `users` - User accounts and roles
- `wallets` - Wallet information with encrypted private keys
- `transfers` - Transaction history and status
- `audit_logs` - Security audit trail
- `settings` - Application configuration
- `orchard_sync_state` - Zcash blockchain sync progress per wallet
- `orchard_notes` - Shielded notes (unspent outputs) with witness data
- `orchard_tree_state` - Commitment tree state for proof generation

## Configuration

### Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `WEB3_SERVER__HOST` | Server bind address | 127.0.0.1 |
| `WEB3_SERVER__PORT` | Server port | 8080 |
| `WEB3_DATABASE__HOST` | MySQL host | localhost |
| `WEB3_DATABASE__PORT` | MySQL port | 3306 |
| `WEB3_DATABASE__USER` | MySQL user | root |
| `WEB3_DATABASE__PASSWORD` | MySQL password | - |
| `WEB3_DATABASE__NAME` | Database name | web3_wallet |
| `WEB3_JWT__SECRET` | JWT signing secret | - |
| `WEB3_JWT__EXPIRE_HOURS` | Token expiration | 24 |
| `WEB3_SECURITY__ENCRYPTION_KEY` | 32-byte encryption key | - |
| `WEB3_ETHEREUM__RPC_URL` | Ethereum RPC endpoint | - |
| `WEB3_ETHEREUM__CHAIN_ID` | Ethereum chain ID | 1 |
| `WEB3_ETHEREUM__RPC_PROXY` | Optional RPC proxy | - |
| `WEB3_ZCASH__RPC_URL` | Zcash RPC endpoint | - |
| `WEB3_ZCASH__RPC_USER` | Zcash RPC username | - |
| `WEB3_ZCASH__RPC_PASSWORD` | Zcash RPC password | - |
| `WEB3_ZCASH__RPC_PROXY` | Optional Zcash RPC proxy | - |

### Frontend Configuration

| Variable | Description | Default |
|----------|-------------|---------|
| `VITE_API_BASE_URL` | Backend API URL | http://localhost:8080/api/v1 |

## PM2 Deployment

The backend includes PM2 configuration for production deployment:

```bash
# Start with PM2
./start.sh pm2

# View status
./start.sh status

# Stop
./start.sh pm2-stop

# Restart
./start.sh pm2-restart
```

## Extending

### Adding New Chains

Implement the `ChainClient` trait in `backend/src/blockchain/traits.rs`:

```rust
#[async_trait]
pub trait ChainClient: Send + Sync {
    async fn get_balance(&self, address: &str) -> Result<String>;
    async fn get_token_balance(&self, address: &str, token: &str) -> Result<String>;
    async fn send_transaction(&self, tx: TransactionRequest) -> Result<String>;
    // ... other methods
}
```

### Adding New Tokens

Add token definitions in `backend/src/blockchain/ethereum/tokens.rs`:

```rust
pub static SUPPORTED_TOKENS: Lazy<HashMap<&'static str, TokenInfo>> = Lazy::new(|| {
    let mut m = HashMap::new();
    m.insert("NEW_TOKEN", TokenInfo {
        address: "0x...",
        decimals: 18,
        symbol: "NEW",
    });
    m
});
```

## Logging

Backend logs are written to `backend/logs/web3-wallet.log` with:
- 500MB file size limit
- 10 backup files rotation
- Configurable log level via `RUST_LOG`

```bash
# Example log configuration
RUST_LOG=info,sqlx=warn
```

## Support

If you find this project useful, consider supporting the development:

**ETH / USDT / USDC (ERC20):** `0xD76f061DaEcfC3ddaD7902A8Ff7c47FC68b3Dc49`

## License

MIT License

## Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request
